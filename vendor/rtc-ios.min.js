!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),(n.RTC||(n.RTC={})).IOS=e()}}(function(){return function e(n,t,i){function o(a,c){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!c&&d)return d(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=t[a]={exports:{}};n[a][0].call(f.exports,function(e){var t=n[a][1][e];return o(t?t:e)},f,f.exports,e,n,t,i)}return t[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,n,t){"use strict";var i=e("objectfit"),o=e("fdom/raf"),r=/\(iOS\;.*Mobile\/NICTA/,a=!1,c=!1;t.supported=function(){return"undefined"!=typeof navigator&&r.test(navigator.userAgent)};t.init=function(e,n){function t(){var e;return c?n():(document.removeEventListener("deviceready",t),e=window.console.log,window.console.log=function(){var n=[].slice.call(arguments).join(" ");try{NativeLog(n)}catch(e){alert(n)}e.apply(window.console,arguments)},"function"==typeof getUserMedia&&(navigator.getUserMedia=function(e,n,t){getUserMedia(e,n,t)}),c=!0,console.log("iOS plugin initialized, getUserMedia available = "+!!navigator.getUserMedia),void n())}return(a=a||"undefined"!=typeof getPeerConnection)?setTimeout(t,10):void document.addEventListener("deviceready",t)};t.attach=function(e,n){function t(e){var n=Date.now();g&&p+g>n||(u=new Image,u.onload=function(){o(a)},u.src=e)}function r(){var e=f.getBoundingClientRect(),n=window.getComputedStyle(f),t=i[n.objectFit]||i.contain;f.width=e.width,f.height=e.height,s.clearRect(0,0,f.width,f.height),c=t([0,0,e.width,e.height]),a()}function a(){u&&(s.drawImage.apply(s,[u].concat(c([0,0,u.width,u.height]))),p=Date.now())}var c,u,f=d(n,(n||{}).el||(n||{}).target),s=f.getContext("2d"),l=parseInt((n||{}).maxfps,10)||0,g=l&&1e3/l,p=0;return window.addEventListener("resize",r,!1),window.addEventListener("load",r,!1),iOSRTC_onDrawRegi(e,t),setTimeout(r,10),f};var d=t.prepareElement=function(e,n){var t=n instanceof HTMLVideoElement||n instanceof HTMLAudioElement,i=document.createElement("canvas"),o=t?n.parentNode:n;return console.log("preparing element, created canvas"),t&&n.parentNode?(i.className=n.className,console.log("inserting canvas"),o.insertBefore(i,n),o.removeChild(n)):o&&o.appendChild(i),i};t.createIceCandidate=function(e){return console.log("creating ice candidate, keys: "+Object.keys(e).join(" ")),getRTCIceCandidate({sdpMLineIndex:(e||{}).sdpMLineIndex,candidate:(e||{}).candidate})},t.createConnection=function(e,n){return getPeerConnection(e,n)},t.createSessionDescription=function(e){return getRTCSessionDescription(e)},"undefined"!=typeof document&&document.addEventListener("deviceready",function(){a=!0})},{"fdom/raf":2,objectfit:5}],2:[function(e,n){"use strict";var t=["r","webkitR","mozR","oR","msR"];n.exports="undefined"!=typeof window&&function(){for(var e=0;e<t.length;e++)window.animFrame=window.animFrame||window[t[e]+"equestAnimationFrame"];return animFrame}()},{}],3:[function(e,n){n.exports=function(e,n){function t(n){var t=n[2],a=n[3],c=t/a,d=[];return r>c?(d[2]=o*c|0,d[3]=o,d[0]=i-d[2]>>1,d[1]=0):(d[2]=i,d[3]=i/c|0,d[0]=0,d[1]=o-d[3]>>1),d[0]+=e[0],d[1]+=e[1],d}var i=e[2],o=e[3],r=i/o;return n?t(n):t}},{}],4:[function(e,n){n.exports=function(e,n){function t(n){var t=n[2],a=n[3],c=t/a,d=[];return r>c?(d[2]=i,d[3]=i/c|0,d[0]=1,d[1]=-(d[3]-o)>>1):(d[2]=o*c|0,d[3]=o,d[0]=-(d[2]-i)>>1,d[1]=0),d[0]+=e[0],d[1]+=e[1],d}var i=e[2],o=e[3],r=i/o;return n?t(n):t}},{}],5:[function(e,n,t){t.contain=e("./contain"),t.cover=e("./cover")},{"./contain":3,"./cover":4}]},{},[1])(1)});
//# sourceMappingURL=rtc.min.js.map